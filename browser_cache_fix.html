<!DOCTYPE html>
<html>
<head>
    <title>Browser Cache Fix for psycholog.windexs.ru</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .step { margin: 20px 0; padding: 15px; border-left: 4px solid #007bff; background: #f8f9fa; }
        .command { background: #e9ecef; padding: 10px; border-radius: 4px; font-family: monospace; margin: 10px 0; }
        .error { color: #dc3545; }
        .success { color: #28a745; }
    </style>
</head>
<body>
    <h1>ðŸ”§ Browser Cache Fix for Audio Error</h1>

    <div class="step">
        <h2>Problem: Old JavaScript still loading</h2>
        <p>You have the new file <code>index-D9_ZgnPJ.js</code> on server, but browser still loads <code>index-Dtn52uhQ.js</code></p>
    </div>

    <div class="step">
        <h2>Step 1: Check what browser is loading</h2>
        <div class="command">
        # Open browser DevTools (F12)<br>
        # Go to Network tab<br>
        # Visit: https://psycholog.windexs.ru/audio<br>
        # Look for JavaScript files being loaded<br>
        # Should see: index-D9_ZgnPJ.js (green)<br>
        # NOT: index-Dtn52uhQ.js (red)
        </div>
    </div>

    <div class="step">
        <h2>Step 2: Hard refresh browser</h2>
        <div class="command">
        # Press: Ctrl + Shift + R (Windows/Linux)<br>
        # Or: Cmd + Shift + R (Mac)<br>
        # Or hold Ctrl/Cmd and click refresh button<br>
        # Or open in incognito/private mode
        </div>
    </div>

    <div class="step">
        <h2>Step 3: Clear browser cache manually</h2>
        <div class="command">
        Chrome: Settings â†’ Privacy â†’ Clear browsing data â†’ Cached images/files<br>
        Firefox: Settings â†’ Privacy â†’ Clear Data â†’ Cached Web Content<br>
        Safari: Develop â†’ Empty Caches (enable Develop menu first)
        </div>
    </div>

    <div class="step">
        <h2>Step 4: Check server response</h2>
        <div class="command">
        curl -s "https://psycholog.windexs.ru" | grep "index-.*\.js"
        </div>
        <p class="success">Should return: index-D9_ZgnPJ.js</p>
    </div>

    <div class="step">
        <h2>Step 5: If still not working - server cache</h2>
        <div class="command">
        # On server:<br>
        sudo systemctl reload nginx<br>
        sudo systemctl restart nginx<br>
        # Clear any CDN cache if used
        </div>
    </div>

    <div class="step">
        <h2>Step 6: Verify fix</h2>
        <p>After clearing cache:</p>
        <ul>
            <li>âœ… No "Cannot access uninitialized variable" errors</li>
            <li>âœ… Audio calls work properly</li>
            <li>âœ… iOS devices don't crash</li>
        </ul>
    </div>
</body>
</html>